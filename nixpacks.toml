# nixpacks.toml for Django deployment on Railway

# Define the build phase
[phases.build]
# Install Python dependencies from requirements.txt
commands = ["pip install -r requirements.txt", "python manage.py collectstatic --noinput"]

# Define the start command for the web service
[start]
# Execute the custom start script
cmd = "bash ./start.sh"

# Define environment variables specific to the build environment (optional, still useful for PYTHONPATH)
[variables]
# Ensure Python can find Django and other modules correctly
# Setting current directory to Python path helps with module imports
PYTHONPATH = "."
# DJANGO_SETTINGS_MODULE will now be set in start.sh for robustness
