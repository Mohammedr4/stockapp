# nixpacks.toml for Django deployment on Railway

# Define the build phase
[phases.build]
# Install Python dependencies from requirements.txt
commands = ["pip install -r requirements.txt", "python manage.py collectstatic --noinput"]

# Define the start command for the web service
[start]
# This explicitly tells Nixpacks how to run your Gunicorn server
cmd = "gunicorn project.wsgi --log-file -"

# Define environment variables specific to the build environment
[variables]
# Ensure Python can find Django and other modules correctly
# Setting current directory to Python path helps with module imports
PYTHONPATH = "."
# Explicitly tell Django where its settings file is during the build and run phases
DJANGO_SETTINGS_MODULE = "project.settings"
